(function(context){var setup={},initiate_require,bootstrap,repeat_until;setup.pages={homepage:{active:!0},commerce:{active:!1},commerce_line:{active:!1},config:{active:!0},sitewide:{active:!1}},function(e){repeat_until=function(e,t){var n,r,i,o,a,u,c=!1;return t=void 0!==t?t:20,u=function(){a=e(),a===!1?r=window.setTimeout(u,t):(c=!0,i&&i(a),window.clearTimeout(o))},n={and_then:function(e){return i=e,c&&a!==!1&&i(a),n},timeout:function(e,t){return t=void 0!==t?t:7e3,o=window.setTimeout(function(){c||(c=!0,e(),window.clearTimeout(r))},t),n}},u(),n},e.repeat_until=repeat_until}(context),function(e){var t={};t.functions={},t.sub=function(e,n){t.functions[e]||(t.functions[e]=[]),t.functions[e].push(n)},t.pub=function(e,n){var r,i,o=t.functions[e];if(o)for(r=0,i=o.length;r<i;r++)o[r].apply(this,n||[])},t.clear=function(e){e?t.functions[e]=[]:t.functions={}},e.pubsub=t}(context),initiate_require=function(context,bootstrap){var base_url=context.base_url||"/bmfsweb/"+_BM_HOST_COMPANY+"/image/javascript",requirejs,require,define;(function(){function J(e){return"[object Function]"===M.call(e)}function E(e){return"[object Array]"===M.call(e)}function Z(e,t,n){for(var r in t)!(r in K)&&(!(r in e)||n)&&(e[r]=t[r]);return d}function N(e,t,n){return e=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),n&&(e.originalError=n),e}function $(e,t,n){var r,i,o;for(r=0;o=t[r];r++)o="string"==typeof o?{name:o}:o,i=o.location,n&&(!i||0!==i.indexOf("/")&&i.indexOf(":")===-1)&&(i=n+"/"+(i||o.name)),e[o.name]={name:o.name,location:i||o.name,main:(o.main||"main").replace(da,"").replace(aa,"")}}function V(e,t){e.holdReady?e.holdReady(t):t?e.readyWait+=1:e.ready(!0)}function ea(e){function t(e,t){var n,r;if(e&&"."===e.charAt(0)&&t){b.pkgs[t]?t=[t]:(t=t.split("/"),t=t.slice(0,t.length-1)),n=e=t.concat(e.split("/"));var i;for(r=0;i=n[r];r++)if("."===i)n.splice(r,1),r-=1;else if(".."===i){if(1===r&&(".."===n[2]||".."===n[0]))break;r>0&&(n.splice(r-1,2),r-=2)}r=b.pkgs[n=e[0]],e=e.join("/"),r&&e===n+"/"+r.main&&(e=n)}return e}function n(e,n){var r,i,o=e?e.indexOf("!"):-1,a=null,u=n?n.name:null,c=e;return o!==-1&&(a=e.substring(0,o),e=e.substring(o+1,e.length)),a&&(a=t(a,u)),e&&(a?r=(o=q[a])&&o.normalize?o.normalize(e,function(e){return t(e,u)}):t(e,u):(r=t(e,u),i=x[r],i||(i=h.nameToUrl(r,null,n),x[r]=i))),{prefix:a,name:r,parentMap:n,url:i,originalName:c,fullName:a?a+"!"+(r||""):r}}function r(){var e,t,n=!0,r=b.priorityWait;if(r){for(t=0;e=r[t];t++)if(!_[e]){n=!1;break}n&&delete b.priorityWait}return n}function i(e,t,n){return function(){var r,i=ga.call(arguments,0);return n&&J(r=i[i.length-1])&&(r.__requireJsBuild=!0),i.push(t),e.apply(null,i)}}function o(e,t){var n=i(h.require,e,t);return Z(n,{nameToUrl:i(h.nameToUrl,e),toUrl:i(h.toUrl,e),defined:i(h.requireDefined,e),specified:i(h.requireSpecified,e),isBrowser:d.isBrowser}),n}function a(e){var t,r,i;i=e.callback;var o=e.map,a=o.fullName,u=e.deps,c=e.listeners;if(i&&J(i)){if(b.catchError.define)try{r=d.execCb(a,e.callback,u,q[a])}catch(e){t=e}else r=d.execCb(a,e.callback,u,q[a]);a&&(e.cjsModule&&void 0!==e.cjsModule.exports?r=q[a]=e.cjsModule.exports:void 0===r&&e.usingExports?r=q[a]:(q[a]=r,M[a]&&(L[a]=!0)))}else a&&(r=q[a]=i,M[a]&&(L[a]=!0));if(k[e.id]&&(delete k[e.id],e.isDone=!0,h.waitCount-=1,0===h.waitCount&&(C=[])),delete T[a],d.onResourceLoad&&!e.placeholder&&d.onResourceLoad(h,o,e.depArray),t)return r=(a?n(a).url:"")||t.fileName||t.sourceURL,i=t.moduleTree,t=N("defineerror",'Error evaluating module "'+a+'" at location "'+r+'":\n'+t+"\nfileName:"+r+"\nlineNumber: "+(t.lineNumber||t.line),t),t.moduleName=a,t.moduleTree=i,d.onError(t);for(t=0;i=c[t];t++)i(r)}function u(e,t){return function(n){e.depDone[t]||(e.depDone[t]=!0,e.deps[t]=n,e.depCount-=1,e.depCount||a(e))}}function c(e,t){var n,r=t.map,i=r.fullName,u=r.name,c=A[e]||(A[e]=q[e]);t.loading||(t.loading=!0,n=function(e){t.callback=function(){return e},a(t),_[t.id]=!0,v()},n.fromText=function(e,t){var n=O;_[e]=!1,h.scriptCount+=1,h.fake[e]=!0,n&&(O=!1),d.exec(t),n&&(O=!0),h.completeLoad(e)},i in q?n(q[i]):c.load(u,o(r.parentMap,!0),n,b))}function s(e){k[e.id]||(k[e.id]=e,C.push(e),h.waitCount+=1)}function l(e){this.listeners.push(e)}function f(e,t){var r,i,o=e.fullName,u=e.prefix,c=u?A[u]||(A[u]=q[u]):null;return o&&(r=T[o]),!r&&(i=!0,r={id:(u&&!c?Q++ +"__p@:":"")+(o||"__r@"+Q++),map:e,depCount:0,depDone:[],depCallbacks:[],deps:[],listeners:[],add:l},j[r.id]=!0,o&&(!u||A[u]))&&(T[o]=r),u&&!c?(o=f(n(u),!0),o.add(function(){var t=n(e.originalName,e.parentMap),t=f(t,!0);r.placeholder=!0,t.add(function(e){r.callback=function(){return e},a(r)})})):i&&t&&(_[r.id]=!1,h.paused.push(r),s(r)),r}function p(e,t,r,i){var c,e=n(e,i),d=e.name,l=e.fullName,p=f(e),m=p.id,g=p.deps;if(l){if(l in q||_[m]===!0||"jquery"===l&&b.jQuery&&b.jQuery!==r().fn.jquery)return;j[m]=!0,_[m]=!0,"jquery"===l&&r&&S(r())}for(p.depArray=t,p.callback=r,r=0;r<t.length;r++)(m=t[r])&&(m=n(m,d?e:i),c=m.fullName,t[r]=c,"require"===c?g[r]=o(e):"exports"===c?(g[r]=q[l]={},p.usingExports=!0):"module"===c?p.cjsModule=g[r]={id:d,uri:d?h.nameToUrl(d,null,i):void 0,exports:q[l]}:!(c in q)||c in k||l in M&&!(l in M&&L[c])?(l in M&&(M[c]=!0,delete q[c],E[m.url]=!1),p.depCount+=1,p.depCallbacks[r]=u(p,r),f(m,!0).add(p.depCallbacks[r])):g[r]=q[c]);p.depCount?s(p):a(p)}function m(e){p.apply(null,e)}function g(e,t){if(!e.isDone){var r,i,o,a,u=e.map.fullName,c=e.depArray;if(u){if(t[u])return q[u];t[u]=!0}if(c)for(r=0;r<c.length;r++)(i=c[r])&&((o=n(i).prefix)&&(a=k[o])&&g(a,t),(o=k[i])&&!o.isDone&&_[i]&&(i=g(o,t),e.depCallbacks[r](i)));return u?q[u]:void 0}}function y(){var e,t=1e3*b.waitSeconds,n=t&&h.startTime+t<(new Date).getTime(),t="",i=!1,o=!1;if(h.pausedCount<=0){if(b.priorityWait){if(!r())return;v()}for(e in _)if(!(e in K||(i=!0,_[e]))){if(!n){o=!0;break}t+=e+" "}if(i||h.waitCount){if(n&&t)return e=N("timeout","Load timeout for modules: "+t),e.requireType="timeout",e.requireModules=t,d.onError(e);if(o||h.scriptCount)(G||ba)&&!W&&(W=setTimeout(function(){W=0,y()},50));else{if(h.waitCount){for(H=0;t=C[H];H++)g(t,{});h.paused.length&&v(),X<5&&(X+=1,y())}X=0,d.checkReadyState()}}}}var h,v,b={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},catchError:{}},w=[],j={require:!0,exports:!0,module:!0},x={},q={},_={},k={},C=[],E={},Q=0,T={},A={},M={},L={},B=0;return S=function(e){!h.jQuery&&(e=e||("undefined"!=typeof jQuery?jQuery:null))&&(!b.jQuery||e.fn.jquery===b.jQuery)&&("holdReady"in e||"readyWait"in e)&&(h.jQuery=e,m(["jquery",[],function(){return jQuery}]),h.scriptCount)&&(V(e,!0),h.jQueryIncremented=!0)},v=function(){var e,t,n,i,o,a;for(B+=1,h.scriptCount<=0&&(h.scriptCount=0);w.length;){if(e=w.shift(),null===e[0])return d.onError(N("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));m(e)}if(!b.priorityWait||r())for(;h.paused.length;){for(o=h.paused,h.pausedCount+=o.length,h.paused=[],i=0;e=o[i];i++)t=e.map,n=t.url,a=t.fullName,t.prefix?c(t.prefix,e):!E[n]&&!_[a]&&(d.load(h,a,n),E[n]=!0);h.startTime=(new Date).getTime(),h.pausedCount-=o.length}1===B&&y(),B-=1},h={contextName:e,config:b,defQueue:w,waiting:k,waitCount:0,specified:j,loaded:_,urlMap:x,urlFetched:E,scriptCount:0,defined:q,paused:[],pausedCount:0,plugins:A,needFullExec:M,fake:{},fullExec:L,managerCallbacks:T,makeModuleMap:n,normalize:t,configure:function(e){var t,n,r;if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),t=b.paths,r=b.pkgs,Z(b,e,!0),e.paths){for(n in e.paths)n in K||(t[n]=e.paths[n]);b.paths=t}if((t=e.packagePaths)||e.packages){if(t)for(n in t)n in K||$(r,t[n],n);e.packages&&$(r,e.packages),b.pkgs=r}e.priority&&(n=h.requireWait,h.requireWait=!1,h.takeGlobalQueue(),v(),h.require(e.priority),v(),h.requireWait=n,b.priorityWait=e.priority),(e.deps||e.callback)&&h.require(e.deps||[],e.callback)},requireDefined:function(e,t){return n(e,t).fullName in q},requireSpecified:function(e,t){return n(e,t).fullName in j},require:function(t,r,i){if("string"==typeof t)return J(r)?d.onError(N("requireargs","Invalid require call")):d.get?d.get(h,t,r):(r=n(t,r),t=r.fullName,t in q?q[t]:d.onError(N("notloaded","Module name '"+r.fullName+"' has not been loaded yet for context: "+e)));if((t&&t.length||r)&&p(null,t,r,i),!h.requireWait)for(;!h.scriptCount&&h.paused.length;)h.takeGlobalQueue(),v();return h.require},takeGlobalQueue:function(){U.length&&(ha.apply(h.defQueue,[h.defQueue.length-1,0].concat(U)),U=[])},completeLoad:function(e){var t;for(h.takeGlobalQueue();w.length;){if(t=w.shift(),null===t[0]){t[0]=e;break}if(t[0]===e)break;m(t),t=null}m(t?t:[e,[],"jquery"===e&&"undefined"!=typeof jQuery?function(){return jQuery}:null]),S(),d.isAsync&&(h.scriptCount-=1),v(),d.isAsync||(h.scriptCount-=1)},toUrl:function(e,t){var n=e.lastIndexOf("."),r=null;return n!==-1&&(r=e.substring(n,e.length),e=e.substring(0,n)),h.nameToUrl(e,r,t)},nameToUrl:function(e,n,r){var i,o,a,u,c=h.config,e=t(e,r&&r.fullName);if(d.jsExtRegExp.test(e))n=e+(n?n:"");else{for(i=c.paths,o=c.pkgs,r=e.split("/"),u=r.length;u>0;u--){if(a=r.slice(0,u).join("/"),i[a]){r.splice(0,u,i[a]);break}if(a=o[a]){e=e===a.name?a.location+"/"+a.main:a.location,r.splice(0,u,e);break}}n=r.join("/")+(n||".js"),n=("/"===n.charAt(0)||n.match(/^\w+:/)?"":c.baseUrl)+n}return c.urlArgs?n+((n.indexOf("?")===-1?"?":"&")+c.urlArgs):n}},h.jQueryCheck=S,h.resume=v,h}function ia(){var e,t,n;if(m&&"interactive"===m.readyState)return m;for(e=document.getElementsByTagName("script"),t=e.length-1;t>-1&&(n=e[t]);t--)if("interactive"===n.readyState)return m=n;return null}var ja=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/gm,ka=/require\(\s*["']([^'"\s]+)["']\s*\)/g,da=/^\.\//,aa=/\.js$/,M=Object.prototype.toString,r=Array.prototype,ga=r.slice,ha=r.splice,G="undefined"!=typeof window&&!!navigator&&!!document,ba=!G&&"undefined"!=typeof importScripts,la=G&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,ca="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),K={},u={},U=[],m=null,X=0,O=!1,d,r={},I,w,y,z,v,A,B,H,C,S,W;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(J(requirejs))return;r=requirejs,requirejs=void 0}if("undefined"!=typeof require&&!J(require)&&(r=require,require=void 0),d=requirejs=function(e,t,n){var r,i="_";return!E(e)&&"string"!=typeof e&&(r=e,E(t)?(e=t,t=n):e=[]),r&&r.context&&(i=r.context),n=u[i]||(u[i]=ea(i)),r&&n.configure(r),n.require(e,t)},d.config=function(e){return d(e)},require||(require=d),d.toUrl=function(e){return u._.toUrl(e)},d.version="1.0.0",d.jsExtRegExp=/^\/|:|\?|\.js$/,w=d.s={contexts:u,skipAsync:{}},(d.isAsync=d.isBrowser=G)&&(y=w.head=document.getElementsByTagName("head")[0],(z=document.getElementsByTagName("base")[0])&&(y=w.head=z.parentNode)),d.onError=function(e){throw e},d.load=function(e,t,n){d.resourcesReady(!1),e.scriptCount+=1,d.attach(n,e,t),e.jQuery&&!e.jQueryIncremented&&(V(e.jQuery,!0),e.jQueryIncremented=!0)},define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),E(t)||(n=t,t=[]),!t.length&&J(n)&&n.length&&(n.toString().replace(ja,"").replace(ka,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t)),O&&(r=I||ia())&&(e||(e=r.getAttribute("data-requiremodule")),i=u[r.getAttribute("data-requirecontext")]),(i?i.defQueue:U).push([e,t,n])},define.amd={multiversion:!0,plugins:!0,jQuery:!0},d.exec=function(b){return eval(b)},d.execCb=function(e,t,n,r){return t.apply(r,n)},d.addScriptToDom=function(e){I=e,z?y.insertBefore(e,z):y.appendChild(e),I=null},d.onScriptLoad=function(e){var t,n=e.currentTarget||e.srcElement;("load"===e.type||n&&la.test(n.readyState))&&(m=null,e=n.getAttribute("data-requirecontext"),t=n.getAttribute("data-requiremodule"),u[e].completeLoad(t),n.detachEvent&&!ca?n.detachEvent("onreadystatechange",d.onScriptLoad):n.removeEventListener("load",d.onScriptLoad,!1))},d.attach=function(e,t,n,r,i,o){var a;return G?(r=r||d.onScriptLoad,a=t&&t.config&&t.config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),a.type=i||"text/javascript",a.charset="utf-8",a.async=!w.skipAsync[e],t&&a.setAttribute("data-requirecontext",t.contextName),a.setAttribute("data-requiremodule",n),a.attachEvent&&!ca?(O=!0,o?a.onreadystatechange=function(){"loaded"===a.readyState&&(a.onreadystatechange=null,a.attachEvent("onreadystatechange",r),o(a))}:a.attachEvent("onreadystatechange",r)):a.addEventListener("load",r,!1),a.src=e,o||d.addScriptToDom(a),a):(ba&&(importScripts(e),t.completeLoad(n)),null)},G)for(v=document.getElementsByTagName("script"),H=v.length-1;H>-1&&(A=v[H]);H--)if(y||(y=A.parentNode),B=A.getAttribute("data-main")){r.baseUrl||(v=B.split("/"),A=v.pop(),v=v.length?v.join("/")+"/":"./",r.baseUrl=v,B=A.replace(aa,"")),r.deps=r.deps?r.deps.concat(B):[B];break}d.checkReadyState=function(){var e,t=w.contexts;for(e in t)if(!(e in K)&&t[e].waitCount)return;d.resourcesReady(!0)},d.resourcesReady=function(e){var t,n;if(d.resourcesDone=e,d.resourcesDone)for(n in e=w.contexts)!(n in K)&&(t=e[n],t.jQueryIncremented)&&(V(t.jQuery,!1),t.jQueryIncremented=!1)},d.pageLoaded=function(){"complete"!==document.readyState&&(document.readyState="complete")},G&&document.addEventListener&&!document.readyState&&(document.readyState="loading",window.addEventListener("load",d.pageLoaded,!1)),d(r),d.isAsync&&"undefined"!=typeof setTimeout&&(C=w.contexts[r.context||"_"],C.requireWait=!0,setTimeout(function(){C.requireWait=!1,C.takeGlobalQueue(),C.jQueryCheck(),C.scriptCount||C.resume(),d.checkReadyState()},0))}})(),define("requireLib",function(){}),define("domReady",[],function(){function e(e){for(var t,n=0;t=e[n];n++)t(u)}function t(){var t=c,n=d;a&&(t.length&&(c=[],e(t)),s.resourcesDone&&n.length&&(d=[],e(n)))}function n(){a||(a=!0,i&&clearInterval(i),t())}function r(e){return a?e(u):c.push(e),r}var i,o="undefined"!=typeof window&&window.document,a=!o,u=o?document:null,c=[],d=[],s=requirejs||require||{},l=s.resourcesReady;return"resourcesReady"in s&&(s.resourcesReady=function(e){l&&l(e),e&&t()}),o&&(document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):window.attachEvent&&(window.attachEvent("onload",n),self===self.top&&(i=setInterval(function(){try{document.body&&(document.documentElement.doScroll("left"),n())}catch(e){}},30))),"complete"===document.readyState&&n()),r.withResources=function(e){return a&&s.resourcesDone?e(u):d.push(e),r},r.version="1.0.0",r.load=function(e,t,n,i){i.isBuild?n(null):r(n)},r}),require(["domReady"],function(e){}),define("setup-domready",function(){}),require.config({baseUrl:base_url,waitSeconds:15}),require(["domReady"],function(e){require.ready=e,bootstrap(context)});var expose=function(e,t){window[e]=window[e]||t};expose("require",require),expose("define",define),expose("requirejs",requirejs)},bootstrap=function(e){var t={},n=e.repeat_until,r=e.pubsub,i={},o=window["framework/debug"]||!1;setup&&(t.window_url=document.location.href,setup.extend=function(e,t){var n,r;if(r=setup.pages[e],r&&r.active)for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n])},setup.extend("sitewide",{always:!0}),setup.extend("commerce",{url_regex:["/commerce/"],match:function(){var e;return"function"==typeof jQuery&&(e=jQuery("form[name='bmDocForm']").length>0,!!e&&1===t.get_doc_number())}}),setup.extend("commerce_line",{url_regex:["/commerce/buyside/document.jsp"],match:function(){var e;return"function"==typeof jQuery&&(e=jQuery("form[name='bmDocForm']").length>0,!!e&&t.get_doc_number()>1)}}),setup.extend("config",{url_regex:["/model_configs.jsp"],match:function(){var e=jQuery("form[name='configurationForm']").length>0;return!!e}}),setup.extend("homepage",{url_regex:["commerce/display_company_profile.jsp","/commerce/buyside/document.jsp"],match:function(){return!!window["framework/homepage"]||"function"==typeof jQuery&&(t.window_url.search("commerce/display_company_profile.jsp")>-1||jQuery("form[name='homePageForm']").length>0)}}),t.run=function(e){var t=[e],n=setup.pages[e];n.preload&&(t=t.concat(n.preload)),require(t)},t.get_doc_number=function(){var e=jQuery("input[name='_document_number']").val();return e=parseInt(e),e&&(t.get_doc_number=function(){return e}),e},t.test_regex=function(e){var n,r,i=e.url_regex||[];if(0===i.length)return!0;for(n=0,r=i.length;n<r;n++)if(t.window_url.search(i[n])>-1)return!0;return!1},t.test_match=function(e){var t=e.match||function(){return!0};return t()},t.search_for=function(e,n){return n.always===!0?void t.run(e):void(t.test_regex(n)===!0&&r.sub("searches",function(){t.test_match(n)&&r.pub("found-match",[e])}))},t.show_log=function(){var e,t,n="";for(e in i)i.hasOwnProperty(e)&&(n+=e+": "+i[e]+"; ");t=document.createElement("div"),t.style.position="absolute",t.style.top="100",t.style.left="10",t.style.color="red",t.innerHTML="bm-framework.js log results:("+n+")",document.body.appendChild(t)},t.begin=function(){var e,a,u=setup.delay||50,c=setup.timeout||5e3,d=setup.pages||[];r.sub("found-match",function(e){r.clear("searches"),t.run(e),o&&(i.page=e)}),r.sub("search-timeout",function(){r.clear("searches")});for(e in d)if(d.hasOwnProperty(e)&&d[e].active===!0){if(a=setup.pages[e],!a)throw new Error("Problem initiating BigMachines JavaScript framework. File "+e+" has not been configured.");t.search_for(e,a)}n(function(){var e=r.functions.searches;return!(e&&e.length>0)||(r.pub("searches"),!1)},u).timeout(function(){r.pub("search-timeout")},c)},t.begin(),require.ready(function(){o&&t.show_log()}))},function(){var e,t,n=5e3;t=function(){context.repeat_until(function(){return"string"==typeof _BM_HOST_COMPANY}).and_then(function(){initiate_require(context,bootstrap)}).timeout(function(){throw new Error("BigMachines Critical Framework Error: Timed out looking for _BM_HOST_COMPANY. Try putting the reference to bm-framework.js in the footer. If that still doesn't help you may need to manually set _BM_HOST_COMPANY in the header.")},n)};for(e in setup.pages)if(setup.pages.hasOwnProperty(e)&&setup.pages[e].active===!0){t();break}}(),context.setup=setup,context.initiate_require=initiate_require,context.bootstrap=bootstrap})(window["framework/testing-hook"]||{});